# ğŸš€ Wanderlust ë¡œì»¬ ê°œë°œ ê°€ì´ë“œ

AI ì—¬í–‰ ë™í–‰ ë§¤ì¹­ í”Œë«í¼ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì • ë° ì‹¤í–‰ ê°€ì´ë“œ

---

## ğŸ“‹ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

- **Java**: 17 ì´ìƒ (Oracle JDK ë˜ëŠ” OpenJDK)
- **Maven**: 3.6 ì´ìƒ
- **MariaDB**: 10.5 ì´ìƒ (ë˜ëŠ” MySQL 8.0+)
- **ìš´ì˜ì²´ì œ**: Windows 10/11, macOS, Linux

---

## ğŸ”§ ì´ˆê¸° ì„¤ì •

### 1. Java ì„¤ì¹˜ í™•ì¸

```bash
java -version
# ì¶œë ¥: openjdk version "17.0.x" ë˜ëŠ” java version "17.0.x"
```

### 2. Maven ì„¤ì¹˜ í™•ì¸

```bash
mvn -version
# ì¶œë ¥: Apache Maven 3.x.x
```

### 3. MariaDB ì„¤ì¹˜ ë° ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±

```bash
# MariaDB ì ‘ì†
mysql -u root -p

# ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE IF NOT EXISTS tt_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# ì‚¬ìš©ì ê¶Œí•œ í™•ì¸ (í•„ìš”ì‹œ)
GRANT ALL PRIVILEGES ON tt_db.* TO 'root'@'localhost';
FLUSH PRIVILEGES;

# ì¢…ë£Œ
EXIT;
```

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (ì„ íƒì‚¬í•­)

`application.properties` íŒŒì¼ì˜ ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•˜ê±°ë‚˜, í™˜ê²½ ë³€ìˆ˜ë¡œ ì˜¤ë²„ë¼ì´ë“œ ê°€ëŠ¥:

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
export SPRING_DATASOURCE_URL=jdbc:mariadb://localhost:3306/tt_db
export SPRING_DATASOURCE_USERNAME=root
export SPRING_DATASOURCE_PASSWORD=your_password

# Claude API í‚¤ (AI ê¸°ëŠ¥ ì‚¬ìš© ì‹œ í•„ìˆ˜)
export CLAUDE_API_KEY=sk-ant-api03-...

# íŒŒì¼ ì—…ë¡œë“œ ê²½ë¡œ (ì„ íƒ)
export UPLOAD_PATH=uploads/
```

---

## âš¡ ë¹ ë¥¸ ì‹œì‘

### ë°©ë²• 1: Spring Boot ì‹¤í–‰ (ê¶Œì¥)

#### ê°œë°œ í™˜ê²½ (ê¸°ë³¸)
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd /path/to/wanderlust_new

# ì™¸ë¶€ DB ì—°ê²° (211.178.142.239)
mvn spring-boot:run
```

#### í…ŒìŠ¤íŠ¸ í™˜ê²½ (ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬)
```bash
# ì„œë²„ ë‚´ë¶€ IP ì—°ê²° (100.75.197.18)
mvn spring-boot:run -Dspring-boot.run.profiles=test
```

**ì ‘ì†**: http://localhost:8080

### ë°©ë²• 2: Jetty ì„œë²„ ì‹¤í–‰

```bash
mvn jetty:run
```

**ì ‘ì†**: http://localhost:8111

### ë°©ë²• 3: WAR íŒŒì¼ ë¹Œë“œ ë° ë°°í¬

```bash
# WAR íŒŒì¼ ìƒì„±
mvn clean package

# ìƒì„±ëœ íŒŒì¼: target/tour-project.war
# Tomcat ë“±ì˜ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì— ë°°í¬ ê°€ëŠ¥
```

---

## ğŸ”„ í”„ë¡œíŒŒì¼ ê°€ì´ë“œ

### ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œíŒŒì¼

| í”„ë¡œíŒŒì¼ | ë°ì´í„°ë² ì´ìŠ¤ | ìš©ë„ | ì‹¤í–‰ ë°©ë²• |
|----------|-------------|------|----------|
| **dev** (ê¸°ë³¸) | 211.178.142.239:3306 | ì™¸ë¶€ ì›ê²© DB | `mvn spring-boot:run` |
| **test** | 100.75.197.18:3306 | ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ì§ì ‘ ì—°ê²° | `mvn spring-boot:run -Dspring-boot.run.profiles=test` |
| **prod** | mariadb-11.4.5:3306 | Docker ìš´ì˜ í™˜ê²½ | `docker-compose up -d` |

### í”„ë¡œíŒŒì¼ ì „í™˜

```bash
# ê°œë°œ í™˜ê²½ (ê¸°ë³¸ê°’)
mvn spring-boot:run

# í…ŒìŠ¤íŠ¸ í™˜ê²½
mvn spring-boot:run -Dspring-boot.run.profiles=test

# í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •
export SPRING_PROFILES_ACTIVE=test
mvn spring-boot:run
```

---

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
wanderlust_new/
â”œâ”€â”€ src/main/java/com/tour/project/
â”‚   â”œâ”€â”€ Application.java           # Spring Boot ë©”ì¸ í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ client/                    # ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸ (Claude API)
â”‚   â”œâ”€â”€ config/                    # Spring ì„¤ì • (Security, WebSocket, DB)
â”‚   â”œâ”€â”€ controller/                # HTTP ìš”ì²­ ì²˜ë¦¬
â”‚   â”œâ”€â”€ dao/                       # MyBatis ë§¤í¼ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ dto/                       # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”œâ”€â”€ service/                   # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ util/                      # ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤
â”‚   â””â”€â”€ vo/                        # Value Object (ë„ë©”ì¸ ì—”í‹°í‹°)
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.properties     # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
â”‚   â””â”€â”€ com/tour/project/mapper/   # MyBatis XML ë§¤í¼
â”œâ”€â”€ src/main/webapp/
â”‚   â””â”€â”€ WEB-INF/views/             # JSP ë·° íŒŒì¼
â””â”€â”€ pom.xml                        # Maven ì˜ì¡´ì„± ê´€ë¦¬
```

---

## ğŸ“Š ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

- **Framework**: Spring Boot 2.7.15
- **View**: JSP + JSTL
- **Database**: MariaDB (MyBatis ORM)
- **Security**: Spring Security
- **WebSocket**: STOMP
- **AI**: Claude API (Anthropic)
- **Build**: Maven

---

## ğŸ” ê°œë°œ ëª¨ë“œ ìµœì í™”

### Hot Reload í™œì„±í™”

```bash
# ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ì¬ì‹œì‘
mvn spring-boot:run -Dspring-boot.run.fork=false

# Devtools í™œìš© (pom.xmlì— ì¶”ê°€ í•„ìš”)
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <optional>true</optional>
</dependency>
```

### JVM ë©”ëª¨ë¦¬ ì„¤ì •

```bash
mvn spring-boot:run -Dspring-boot.run.jvmArguments="-Xmx1024m -Xms512m"
```

### íŠ¹ì • í”„ë¡œíŒŒì¼ ì‹¤í–‰

```bash
# ê°œë°œ í™˜ê²½ í”„ë¡œíŒŒì¼
mvn spring-boot:run -Dspring-boot.run.profiles=dev
```

---

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### âŒ Port 8080 already in use

```bash
# Mac/Linux
lsof -i :8080
kill -9 [PID]

# Windows
netstat -ano | findstr :8080
taskkill /F /PID [PID]
```

### âŒ Database Connection Failed

```bash
# MariaDB ì‹¤í–‰ í™•ì¸
mysql -u root -p -e "SELECT 'DB OK' as status;"

# ë°ì´í„°ë² ì´ìŠ¤ ì¡´ì¬ í™•ì¸
mysql -u root -p -e "SHOW DATABASES LIKE 'tt_db';"
```

### âŒ Java Version Mismatch

```bash
# Java ë²„ì „ í™•ì¸
java -version

# JAVA_HOME ì„¤ì • (í•„ìš”ì‹œ)
export JAVA_HOME=/path/to/java-17
```

### âŒ Maven Build Failed

```bash
# ìºì‹œ ì •ë¦¬ í›„ ì¬ë¹Œë“œ
mvn clean install -U

# í…ŒìŠ¤íŠ¸ ìƒëµí•˜ê³  ë¹Œë“œ
mvn clean package -DskipTests
```

---

## ğŸ¯ ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

### ì›¹ í˜ì´ì§€

- **ë©”ì¸**: http://localhost:8080
- **ê²Œì‹œíŒ**: http://localhost:8080/board/list
- **ì—¬í–‰ ê³„íš**: http://localhost:8080/travel/list
- **AI ì±„íŒ…**: http://localhost:8080/ai/chat
- **ê´€ë¦¬ì**: http://localhost:8080/admin

### API ì—”ë“œí¬ì¸íŠ¸

- **Health Check**: http://localhost:8080/actuator/health
- **WebSocket**: ws://localhost:8080/ws/chat

---

## ğŸ³ Docker ë°°í¬

### Docker Compose ì‹¤í–‰

```bash
# ì»¨í…Œì´ë„ˆ ì‹œì‘
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f wanderlust-app

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down
```

### í”„ë¡œë•ì…˜ ë°°í¬

GitLab CI/CD íŒŒì´í”„ë¼ì¸ì„ í†µí•œ ìë™ ë°°í¬:

```bash
# main ë¸Œëœì¹˜ì— pushí•˜ë©´ ìë™ ë°°í¬
git push origin main

# ë°°í¬ í™•ì¸
curl https://wanderlust.ibetter.kr/actuator/health
```

ìì„¸í•œ ë°°í¬ ê°€ì´ë“œëŠ” ë‹¤ìŒ ë¬¸ì„œ ì°¸ì¡°:
- [ì„œë²„ ì´ˆê¸° ì„¤ì •](../Obsidian/ì§€ì‹ë…¸íŠ¸/1_Projects/2025-10_wanderlust/wanderlust_new/ì„œë²„_ì´ˆê¸°_ì„¤ì •.md)
- [GitLab CI/CD ì„¤ì •](../Obsidian/ì§€ì‹ë…¸íŠ¸/1_Projects/2025-10_wanderlust/wanderlust_new/GitLab_CI_CD_ì„¤ì •.md)
- [ë°°í¬ í”„ë¡œì„¸ìŠ¤](../Obsidian/ì§€ì‹ë…¸íŠ¸/1_Projects/2025-10_wanderlust/wanderlust_new/ë°°í¬_í”„ë¡œì„¸ìŠ¤.md)

---

## ğŸ“ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±

```bash
git checkout -b feature/ê¸°ëŠ¥ëª…
```

### 2. ê°œë°œ ë° í…ŒìŠ¤íŠ¸

```bash
# ì„œë²„ ì‹¤í–‰
mvn spring-boot:run

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
mvn test
```

### 3. ì»¤ë°‹ ë° í‘¸ì‹œ

```bash
# í•œê¸€ ì»¤ë°‹ ë©”ì‹œì§€ ì‚¬ìš©
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"
git push origin feature/ê¸°ëŠ¥ëª…
```

### 4. Pull Request ìƒì„±

GitLabì—ì„œ Pull Request ìƒì„± í›„ ë¦¬ë·° ìš”ì²­

---

## ğŸ”’ ë³´ì•ˆ ì„¤ì •

### Claude API í‚¤ ì„¤ì •

`.env` íŒŒì¼ ë˜ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ API í‚¤ ì„¤ì • (ì ˆëŒ€ Gitì— ì»¤ë°‹í•˜ì§€ ë§ê²ƒ):

```bash
export CLAUDE_API_KEY=sk-ant-api03-...
```

### Spring Security

ê¸°ë³¸ ë³´ì•ˆ ì„¤ì •ì€ `SecurityConfig.java`ì—ì„œ ê´€ë¦¬

---

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- **í”„ë¡œì íŠ¸ ê°œìš”**: `CLAUDE.md`
- **API ë¬¸ì„œ**: `docs/API.md` (ìƒì„± ì˜ˆì •)
- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**: `src/main/resources/schema.sql`

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-10-29
**ë¬¸ì˜**: í”„ë¡œì íŠ¸ ê´€ë¦¬ì
