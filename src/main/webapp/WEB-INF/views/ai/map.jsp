<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="ko">
<head>
    <%@ include file="../common/head.jsp" %>
    <title>AI ì§€ë„ - ì§€ì—­ë³„ ì—¬í–‰ ê°€ì´ë“œ</title>
    <style>
        /* Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea, #764ba2);
            --secondary-gradient: linear-gradient(135deg, #f093fb, #f5576c);
            --accent-gradient: linear-gradient(135deg, #4facfe, #00f2fe);
            --success-gradient: linear-gradient(135deg, #43e97b, #38f9d7);
            --bg-color: #0a0620;
            --card-bg: rgba(25, 20, 60, 0.5);
            --text-primary: #FFFFFF;
            --text-secondary: #9ca3af;
            --font-family: 'Poppins', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            background-size: 400% 400%;
            animation: gradientShift 18s ease infinite;
            color: var(--text-primary);
            min-height: 100vh;
            margin-top: 70px;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .left-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .right-section {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .page-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .page-header h1 {
            font-size: 3rem;
            font-weight: 800;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .page-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .map-legend {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            margin-top: 1rem;
        }

        .legend-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .legend-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .legend-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .legend-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .region-selector {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            text-align: center;
        }

        .region-selector h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }

        .region-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .region-btn {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 15px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .region-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        .region-btn.active {
            background: var(--success-gradient);
            box-shadow: 0 8px 25px rgba(67, 233, 123, 0.3);
        }

        .map-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        #map {
            width: 100%;
            height: 600px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .map-info {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .map-info h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .map-info p {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .attractions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .attraction-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .attraction-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .attraction-card h4 {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .attraction-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0;
        }

        .back-btn {
            position: fixed;
            top: 120px;
            left: 2rem;
            background: var(--primary-gradient);
            color: white;
            padding: 1rem;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .back-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4);
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .region-buttons {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
            }

            .region-btn {
                padding: 0.8rem 1rem;
                font-size: 0.9rem;
            }

            #map {
                height: 400px;
            }

            .page-header h1 {
                font-size: 2rem;
            }

            .back-btn {
                top: 100px;
                left: 1rem;
                width: 50px;
                height: 50px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <%@ include file="../common/header.jsp" %>

    <button class="back-btn" onclick="history.back()">
        <i class="fas fa-arrow-left"></i>
    </button>

    <div class="container">
        <div class="page-header">
            <h1>ğŸ—ºï¸ ì§€ì—­ë³„ ì—¬í–‰ ê°€ì´ë“œ</h1>
            <p>í•œêµ­ì˜ ì•„ë¦„ë‹¤ìš´ ì§€ì—­ì„ íƒí—˜í•´ë³´ì„¸ìš”</p>
        </div>

        <div class="main-content">
            <!-- ì™¼ìª½: ì§€ë„ ì„¹ì…˜ -->
            <div class="left-section">
                <!-- ì§€ë„ ì»¨í…Œì´ë„ˆ -->
                <div class="map-container">
                    <div id="map"></div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½: ì •ë³´ ì„¹ì…˜ -->
            <div class="right-section">
                <!-- ì§€ì—­ ì„ íƒ -->
                <div class="region-selector">
                    <h3>ğŸ¯ ì§€ì—­ì„ ì„ íƒí•˜ì„¸ìš”</h3>
                    <div class="region-buttons">
                        <button class="region-btn" onclick="selectRegion('seoul', 37.5665, 126.9780, this)">
                            ğŸ›ï¸ ì„œìš¸íŠ¹ë³„ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('busan', 35.1796, 129.0756, this)">
                            ğŸŒŠ ë¶€ì‚°ê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('incheon', 37.4563, 126.7052, this)">
                            âœˆï¸ ì¸ì²œê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('daegu', 35.8714, 128.6014, this)">
                            ğŸŒ‡ ëŒ€êµ¬ê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('gwangju', 35.1595, 126.8526, this)">
                            ğŸ¨ ê´‘ì£¼ê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('daejeon', 36.3504, 127.3845, this)">
                            ğŸ›ï¸ ëŒ€ì „ê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('ulsan', 35.5384, 129.3114, this)">
                            ğŸ­ ìš¸ì‚°ê´‘ì—­ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('sejong', 36.4800, 127.2890, this)">
                            ğŸŒŸ ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ
                        </button>
                        <button class="region-btn" onclick="selectRegion('gyeonggi', 37.4138, 127.5183, this)">
                            ğŸ™ï¸ ê²½ê¸°ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('gangwon', 37.8228, 128.1555, this)">
                            ğŸ”ï¸ ê°•ì›íŠ¹ë³„ìì¹˜ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('chungbuk', 36.8, 127.7, this)">
                            ğŸï¸ ì¶©ì²­ë¶ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('chungnam', 36.5184, 126.8, this)">
                            ğŸ–ï¸ ì¶©ì²­ë‚¨ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('jeonbuk', 35.7175, 127.153, this)">
                            ğŸƒ ì „ë¶íŠ¹ë³„ìì¹˜ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('jeonnam', 34.8679, 126.991, this)">
                            ğŸŒ¾ ì „ë¼ë‚¨ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('gyeongbuk', 36.4919, 128.888, this)">
                            ğŸ¯ ê²½ìƒë¶ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('gyeongnam', 35.4606, 128.2132, this)">
                            ğŸï¸ ê²½ìƒë‚¨ë„
                        </button>
                        <button class="region-btn" onclick="selectRegion('jeju', 33.4996, 126.5312, this)">
                            ğŸï¸ ì œì£¼íŠ¹ë³„ìì¹˜ë„
                        </button>
                    </div>
                    <div style="text-align: center; margin-top: 1rem;">
                        <button class="region-btn" onclick="resetMapView()" style="background: var(--secondary-gradient); width: auto; padding: 0.8rem 2rem;">
                            ğŸŒ ì „ì²´ ì§€ë„ ë³´ê¸°
                        </button>
                    </div>
                </div>

               
                <!-- ì§€ì—­ ì •ë³´ -->
                <div class="map-info" id="region-info">
                    <h3 id="region-title">ğŸŒ ëŒ€í•œë¯¼êµ­ 17ê°œ ì‹œë„</h3>
                    <p id="region-description">
                        í•œêµ­ì˜ 17ê°œ ì‹œë„ë¥¼ íƒí—˜í•´ë³´ì„¸ìš”. ì§€ë„ì—ì„œ ìƒ‰ê¹”ë¡œ êµ¬ë¶„ëœ ì§€ì—­ì„ í´ë¦­í•˜ê±°ë‚˜, 
                        ìœ„ì˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ê° ì§€ì—­ì˜ ìƒì„¸ ì •ë³´ì™€ ê´€ê´‘ ëª…ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    
                    <div class="attractions-grid" id="attractions-list">
                        <div class="attraction-card" onclick="selectCityFromLegend('seoul')" style="cursor: pointer;">
                            <h4>ğŸ›ï¸ ì„œìš¸íŠ¹ë³„ì‹œ</h4>
                            <p>ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„, ì „í†µê³¼ í˜„ëŒ€ê°€ ê³µì¡´í•˜ëŠ” ì—­ë™ì ì¸ ë„ì‹œ</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('busan')" style="cursor: pointer;">
                            <h4>ğŸŒŠ ë¶€ì‚°ê´‘ì—­ì‹œ</h4>
                            <p>í•œêµ­ ì œ2ì˜ ë„ì‹œ, ì•„ë¦„ë‹¤ìš´ í•´ë³€ê³¼ ì‹ ì„ í•œ í•´ì‚°ë¬¼ì˜ ë„ì‹œ</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('incheon')" style="cursor: pointer;">
                            <h4>âœˆï¸ ì¸ì²œê´‘ì—­ì‹œ</h4>
                            <p>í•œêµ­ì˜ ê´€ë¬¸ ë„ì‹œ, êµ­ì œê³µí•­ê³¼ ì†¡ë„ì‹ ë„ì‹œë¡œ ìœ ëª…</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('daegu')" style="cursor: pointer;">
                            <h4>ğŸŒ‡ ëŒ€êµ¬ê´‘ì—­ì‹œ</h4>
                            <p>ë‚´ë¥™ ì¤‘ì‹¬ë„ì‹œ, ì•½ë ¹ì‹œì™€ ì„¬ìœ ì‚°ì—…ìœ¼ë¡œ ìœ ëª…í•œ ë„ì‹œ</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('gwangju')" style="cursor: pointer;">
                            <h4>ğŸ¨ ê´‘ì£¼ê´‘ì—­ì‹œ</h4>
                            <p>ì˜ˆìˆ ê³¼ ë¬¸í™”ì˜ ë„ì‹œ, ë¯¼ì£¼í™” ìš´ë™ì˜ ì„±ì§€</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('daejeon')" style="cursor: pointer;">
                            <h4>ğŸ›ï¸ ëŒ€ì „ê´‘ì—­ì‹œ</h4>
                            <p>ê³¼í•™ ê¸°ìˆ  ì¤‘ì‹¬ë„ì‹œ, ëŒ€ë•ì—°êµ¬ê°œë°œíŠ¹êµ¬ì˜ ë„ì‹œ</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('ulsan')" style="cursor: pointer;">
                            <h4>ğŸ­ ìš¸ì‚°ê´‘ì—­ì‹œ</h4>
                            <p>ì‚°ì—… ì¤‘ì‹¬ë„ì‹œ, í˜„ëŒ€ì¤‘ê³µì—…ê³¼ ì•„ë¦„ë‹¤ìš´ ë™í•´ì•ˆ</p>
                        </div>
                        <div class="attraction-card" onclick="selectCityFromLegend('jeju')" style="cursor: pointer;">
                            <h4>ğŸï¸ ì œì£¼íŠ¹ë³„ìì¹˜ë„</h4>
                            <p>í•œêµ­ì˜ ëŒ€í‘œ ê´€ê´‘ì§€, ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ê³¼ ë…íŠ¹í•œ ë¬¸í™”</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=5ce45af9de7c941243bd02f08dc5c4b3&libraries=services"></script>
    <script>
        let map;
        let currentMarkers = [];

        // ì§€ì—­ë³„ ë°ì´í„°
        const regionData = {
            seoul: {
                title: 'ğŸ›ï¸ ì„œìš¸íŠ¹ë³„ì‹œ',
                description: 'ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„ì´ì ìµœëŒ€ ë„ì‹œë¡œ, ë‹¤ì–‘í•œ ë¬¸í™”ì™€ ì—­ì‚¬ê°€ ê³µì¡´í•˜ëŠ” ì—­ë™ì ì¸ ë„ì‹œì…ë‹ˆë‹¤. ì „í†µ ê¶ê¶ë¶€í„° í˜„ëŒ€ì ì¸ ì‡¼í•‘ëª°ê¹Œì§€ ë‹¤ì–‘í•œ ë§¤ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ° ê²½ë³µê¶', desc: 'ì¡°ì„ ì™•ì¡°ì˜ ì •ê¶ìœ¼ë¡œ í•œêµ­ì˜ ì „í†µ ê±´ì¶•ë¯¸ë¥¼ ê°ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ›ï¸ ëª…ë™', desc: 'ì„œìš¸ì˜ ëŒ€í‘œì ì¸ ì‡¼í•‘ê°€ë¡œ ë‹¤ì–‘í•œ ë¸Œëœë“œì™€ ë¨¹ê±°ë¦¬ê°€ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŒ‰ í•œê°•ê³µì›', desc: 'ì„œìš¸ ì‹œë¯¼ë“¤ì˜ íœ´ì‹ ê³µê°„ìœ¼ë¡œ ë‹¤ì–‘í•œ ë ˆì € í™œë™ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ­ í™ëŒ€', desc: 'ì Šì€ ë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ë¡œ í´ëŸ½, ì¹´í˜, ë¼ì´ë¸Œ ìŒì•…ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            busan: {
                title: 'ğŸŒŠ ë¶€ì‚°ê´‘ì—­ì‹œ',
                description: 'í•œêµ­ ì œ2ì˜ ë„ì‹œì´ì ìµœëŒ€ í•­êµ¬ë„ì‹œë¡œ, ì•„ë¦„ë‹¤ìš´ í•´ë³€ê³¼ ì‹ ì„ í•œ í•´ì‚°ë¬¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤. êµ­ì œì ì¸ ë¬¸í™”ì™€ ì „í†µì´ ì–´ìš°ëŸ¬ì§„ í•´ì–‘ ë„ì‹œì…ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ–ï¸ í•´ìš´ëŒ€í•´ìˆ˜ìš•ì¥', desc: 'êµ­ë‚´ ìµœê³ ì˜ í•´ìˆ˜ìš•ì¥ìœ¼ë¡œ ë‹¤ì–‘í•œ í•´ì–‘ ë ˆì €ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŸ ìê°ˆì¹˜ì‹œì¥', desc: 'í•œêµ­ ìµœëŒ€ì˜ ìˆ˜ì‚°ì‹œì¥ìœ¼ë¡œ ì‹ ì„ í•œ í•´ì‚°ë¬¼ì„ ë§›ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŒˆ ê°ì²œë¬¸í™”ë§ˆì„', desc: 'ì»¬ëŸ¬í’€í•œ ì§‘ë“¤ì´ ëª¨ì—¬ìˆëŠ” ì˜ˆìˆ  ë§ˆì„ë¡œ í¬í† ì¡´ì´ ë§ìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŒ‰ ê´‘ì•ˆëŒ€êµ', desc: 'ë¶€ì‚°ì˜ ëœë“œë§ˆí¬ë¡œ ì•¼ê²½ì´ ì•„ë¦„ë‹¤ìš´ ë‹¤ë¦¬ì…ë‹ˆë‹¤.' }
                ]
            },
            jeju: {
                title: 'ğŸï¸ ì œì£¼íŠ¹ë³„ìì¹˜ë„',
                description: 'í•œêµ­ì˜ ëŒ€í‘œì ì¸ ê´€ê´‘ì§€ë¡œ ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ê³¼ ë…íŠ¹í•œ ë¬¸í™”ë¥¼ ê°€ì§„ ì„¬ì…ë‹ˆë‹¤. í•œë¼ì‚°, í•´ë³€, ì˜¬ë ˆê¸¸ ë“± ë‹¤ì–‘í•œ ìì—° ëª…ì†Œê°€ ìˆìŠµë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ”ï¸ í•œë¼ì‚°', desc: 'ì œì£¼ë„ì˜ ì¤‘ì•™ì— ìœ„ì¹˜í•œ í•œêµ­ ìµœê³ ë´‰ìœ¼ë¡œ ë“±ì‚°ê³¼ íŠ¸ë ˆí‚¹ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŒŠ ì„±ì‚°ì¼ì¶œë´‰', desc: 'ì¼ì¶œ ëª…ì†Œë¡œ ìœ ëª…í•œ í™”ì‚° ë¶„í™”êµ¬ë¡œ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìì—°ìœ ì‚°ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸš¶â€â™‚ï¸ ì˜¬ë ˆê¸¸', desc: 'ì œì£¼ í•´ì•ˆì„ ë”°ë¼ ì¡°ì„±ëœ ë„ë³´ ì—¬í–‰ê¸¸ë¡œ ì•„ë¦„ë‹¤ìš´ ìì—°ì„ ê°ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ–ï¸ í˜‘ì¬í•´ìˆ˜ìš•ì¥', desc: 'ì—ë©”ë„ë“œë¹› ë°”ë‹¤ì™€ í•˜ì–€ ëª¨ë˜ê°€ ì•„ë¦„ë‹¤ìš´ í•´ìˆ˜ìš•ì¥ì…ë‹ˆë‹¤.' }
                ]
            },
            gangwon: {
                title: 'ğŸ”ï¸ ê°•ì›ë„',
                description: 'í•œêµ­ì˜ ëŒ€í‘œì ì¸ ì‚°ì•… ì§€ì—­ìœ¼ë¡œ ì‚¬ê³„ì ˆ ë‚´ë‚´ ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ì„ ìë‘í•©ë‹ˆë‹¤. ìŠ¤í‚¤, ë“±ì‚°, ë°”ë‹¤ ë“± ë‹¤ì–‘í•œ ìì—° ë ˆì €ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ¿ í‰ì°½', desc: '2018 ë™ê³„ì˜¬ë¦¼í”½ ê°œìµœì§€ë¡œ ìŠ¤í‚¤ì™€ ìŠ¤ë…¸ë³´ë“œë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ”ï¸ ì„¤ì•…ì‚°', desc: 'í•œêµ­ì˜ ëŒ€í‘œì ì¸ êµ­ë¦½ê³µì›ìœ¼ë¡œ ë“±ì‚°ê³¼ ë‹¨í’ìœ¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.' },
                    { name: 'ğŸŒŠ ì†ì´ˆ', desc: 'ë™í•´ì•ˆì˜ í•­êµ¬ë„ì‹œë¡œ ì‹ ì„ í•œ í•´ì‚°ë¬¼ê³¼ ì•„ë¦„ë‹¤ìš´ í•´ë³€ì´ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸï¸ ë‚¨ì´ì„¬', desc: 'ë©”íƒ€ì„¸ì¿¼ì´ì•„ ê¸¸ë¡œ ìœ ëª…í•œ ì„¬ìœ¼ë¡œ ë“œë¼ë§ˆ ì´¬ì˜ì§€ë¡œë„ ìœ ëª…í•©ë‹ˆë‹¤.' }
                ]
            },
            gyeongju: {
                title: 'ğŸ¯ ê²½ì£¼ì‹œ',
                description: 'ì‹ ë¼ ì²œë…„ì˜ ê³ ë„ë¡œ ë¶ˆë¦¬ëŠ” ì—­ì‚¬ ë¬¸í™” ë„ì‹œì…ë‹ˆë‹¤. ìˆ˜ë§ì€ ë¬¸í™”ì¬ì™€ ìœ ì ì§€ê°€ ìˆì–´ ì‚´ì•„ìˆëŠ” ë°•ë¬¼ê´€ì´ë¼ ë¶ˆë¦½ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ›ï¸ ë¶ˆêµ­ì‚¬', desc: 'ì‹ ë¼ì˜ ëŒ€í‘œì ì¸ ë¶ˆêµ ì‚¬ì°°ë¡œ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ë¬¸í™”ìœ ì‚°ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸ—¿ ì„êµ´ì•”', desc: 'ì‹ ë¼ ë¶ˆêµ ì˜ˆìˆ ì˜ ê±¸ì‘ìœ¼ë¡œ ì„êµ´ ì†ì˜ ë³¸ì¡´ë¶ˆì´ ìœ ëª…í•©ë‹ˆë‹¤.' },
                    { name: 'ğŸŒ¸ ì²¨ì„±ëŒ€', desc: 'ì‹ ë¼ì‹œëŒ€ì˜ ì²œë¬¸ ê´€ì¸¡ëŒ€ë¡œ í•œêµ­ ìµœê³ ì˜ ê³ ëŒ€ ì²œë¬¸ëŒ€ì…ë‹ˆë‹¤.' },
                    { name: 'â›©ï¸ ëŒ€ë¦‰ì›', desc: 'ì‹ ë¼ ì™•ì¡±ë“¤ì˜ ê³ ë¶„êµ°ìœ¼ë¡œ ì²œë§ˆì´ ë“± ë‹¤ì–‘í•œ ê³ ë¶„ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            jeonju: {
                title: 'ğŸ˜ï¸ ì „ì£¼ì‹œ',
                description: 'ì¡°ì„ ì™•ì¡°ì˜ ë°œìƒì§€ì´ì í•œêµ­ ì „í†µë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ì…ë‹ˆë‹¤. ì „í†µ í•œì˜¥ë§ˆì„ê³¼ ë¹„ë¹”ë°¥ìœ¼ë¡œ ìœ ëª…í•œ ë¯¸ì‹ì˜ ë„ì‹œì…ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ˜ï¸ í•œì˜¥ë§ˆì„', desc: 'ì „í†µ í•œì˜¥ì´ ì˜ ë³´ì¡´ëœ ë§ˆì„ë¡œ í•œêµ­ ì „í†µë¬¸í™”ë¥¼ ì²´í—˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸš ë¹„ë¹”ë°¥ê±°ë¦¬', desc: 'ì „ì£¼ ë¹„ë¹”ë°¥ì˜ ë³¸ê³ ì¥ìœ¼ë¡œ ë‹¤ì–‘í•œ ì „í†µ ìŒì‹ì„ ë§›ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ›ï¸ ê²½ê¸°ì „', desc: 'ì¡°ì„  íƒœì¡° ì´ì„±ê³„ì˜ ì–´ì§„ì´ ëª¨ì…”ì§„ ê³³ìœ¼ë¡œ ì—­ì‚¬ì  ì˜ë¯¸ê°€ í½ë‹ˆë‹¤.' },
                    { name: 'ğŸ“š ì „ì£¼í–¥êµ', desc: 'ì¡°ì„ ì‹œëŒ€ ì§€ë°© êµìœ¡ê¸°ê´€ìœ¼ë¡œ ì „í†µ êµìœ¡ì˜ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            incheon: {
                title: 'âœˆï¸ ì¸ì²œê´‘ì—­ì‹œ',
                description: 'í•œêµ­ì˜ ê´€ë¬¸ ë„ì‹œë¡œ ì¸ì²œêµ­ì œê³µí•­ì´ ìˆëŠ” êµ­ì œì ì¸ ë„ì‹œì…ë‹ˆë‹¤. ì¤‘êµ­ ë¬¸í™”ê±°ë¦¬ì™€ ì†¡ë„ì‹ ë„ì‹œë¡œ ìœ ëª…í•©ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸï¸ ì›”ë¯¸ë„', desc: 'ì¸ì²œì˜ ëŒ€í‘œì ì¸ ê´€ê´‘ì§€ë¡œ ë†€ì´ê³µì›ê³¼ ë°”ë‹¤ê°€ í•¨ê»˜ ìˆëŠ” ì„¬ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸ›ï¸ ì°¨ì´ë‚˜íƒ€ìš´', desc: 'í•œêµ­ ìµœëŒ€ì˜ ì¤‘êµ­ ë¬¸í™”ê±°ë¦¬ë¡œ ì§œì¥ë©´ì˜ ë°œìƒì§€ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸŒƒ ì†¡ë„ì‹ ë„ì‹œ', desc: 'ë™ë¶ì•„ ê²½ì œ ì¤‘ì‹¬ì§€ë¥¼ ëª©í‘œë¡œ ì¡°ì„±ëœ ì²¨ë‹¨ êµ­ì œë„ì‹œì…ë‹ˆë‹¤.' },
                    { name: 'âœˆï¸ ì¸ì²œêµ­ì œê³µí•­', desc: 'ì„¸ê³„ì ì¸ í—ˆë¸Œê³µí•­ìœ¼ë¡œ í•œêµ­ì˜ ê´€ë¬¸ ì—­í• ì„ í•©ë‹ˆë‹¤.' }
                ]
            },
            daegu: {
                title: 'ğŸŒ‡ ëŒ€êµ¬ê´‘ì—­ì‹œ',
                description: 'ëŒ€í•œë¯¼êµ­ ì œ3ì˜ ë„ì‹œë¡œ ì„¬ìœ ì‚°ì—…ê³¼ ì˜ë£Œì‚°ì—…ì´ ë°œë‹¬í•œ ë‚´ë¥™ ì¤‘ì‹¬ë„ì‹œì…ë‹ˆë‹¤. ì•½ë ¹ì‹œì™€ ê¹€ê´‘ì„ ê±°ë¦¬ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ’Š ì•½ë ¹ì‹œ', desc: 'í•œêµ­ ìµœëŒ€ì˜ í•œì•½ì¬ ìœ í†µ ì‹œì¥ìœ¼ë¡œ 600ë…„ ì „í†µì„ ìë‘í•©ë‹ˆë‹¤.' },
                    { name: 'ğŸµ ê¹€ê´‘ì„ ê±°ë¦¬', desc: 'ê³ ì¸ì´ ëœ ê°€ìˆ˜ ê¹€ê´‘ì„ì„ ê¸°ë¦¬ëŠ” ë¬¸í™” ê±°ë¦¬ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸ° ë‹¬ì„±ê³µì›', desc: 'ëŒ€êµ¬ ì‹œë¯¼ë“¤ì˜ íœ´ì‹ ê³µê°„ìœ¼ë¡œ ë™ë¬¼ì›ê³¼ í•¨ê»˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸŒ¸ ì´ì›”ë“œ', desc: 'ëŒ€êµ¬ì˜ ëŒ€í‘œì ì¸ í…Œë§ˆíŒŒí¬ë¡œ 83íƒ€ì›Œê°€ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            gwangju: {
                title: 'ğŸ¨ ê´‘ì£¼ê´‘ì—­ì‹œ',
                description: 'í˜¸ë‚¨ ì§€ì—­ì˜ ì¤‘ì‹¬ ë„ì‹œë¡œ ë¯¼ì£¼í™” ìš´ë™ì˜ ì„±ì§€ì´ì ì˜ˆìˆ ê³¼ ë¬¸í™”ì˜ ë„ì‹œì…ë‹ˆë‹¤. ë¹„ì—”ë‚ ë ˆë¡œ ì„¸ê³„ì ìœ¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ•¯ï¸ 5.18 ë¯¼ì£¼ê´‘ì¥', desc: '5.18 ë¯¼ì£¼í™”ìš´ë™ì˜ ì¤‘ì‹¬ì§€ë¡œ ë¯¼ì£¼ì£¼ì˜ ì—­ì‚¬ê°€ ì‚´ì•„ìˆëŠ” ê³³ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸ¨ ê´‘ì£¼ë¹„ì—”ë‚ ë ˆ', desc: 'ì•„ì‹œì•„ ìµœëŒ€ ê·œëª¨ì˜ í˜„ëŒ€ë¯¸ìˆ  ì „ì‹œíšŒë¡œ 2ë…„ë§ˆë‹¤ ê°œìµœë©ë‹ˆë‹¤.' },
                    { name: 'ğŸ›ï¸ êµ­ë¦½ì•„ì‹œì•„ë¬¸í™”ì „ë‹¹', desc: 'ì•„ì‹œì•„ ë¬¸í™”ì˜ ì¤‘ì‹¬ì§€ë¡œ ë‹¤ì–‘í•œ ë¬¸í™” ì½˜í…ì¸ ë¥¼ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸœ ì–‘ë™ì‹œì¥', desc: 'ê´‘ì£¼ì˜ ì „í†µ ì‹œì¥ìœ¼ë¡œ ë‹¤ì–‘í•œ ë¨¹ê±°ë¦¬ë¥¼ ë§›ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            daejeon: {
                title: 'ğŸ›ï¸ ëŒ€ì „ê´‘ì—­ì‹œ',
                description: 'ëŒ€í•œë¯¼êµ­ì˜ ê³¼í•™ ê¸°ìˆ  ì¤‘ì‹¬ë„ì‹œë¡œ ëŒ€ë•ì—°êµ¬ê°œë°œíŠ¹êµ¬ê°€ ìˆëŠ” êµìœ¡ê³¼ ì—°êµ¬ì˜ ë„ì‹œì…ë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ”¬ êµ­ë¦½ì¤‘ì•™ê³¼í•™ê´€', desc: 'í•œêµ­ ìµœëŒ€ì˜ ê³¼í•™ê´€ìœ¼ë¡œ ë‹¤ì–‘í•œ ê³¼í•™ ì²´í—˜ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'â™¨ï¸ ìœ ì„±ì˜¨ì²œ', desc: '700ë…„ ì—­ì‚¬ì˜ ì˜¨ì²œìœ¼ë¡œ ì•Œì¹¼ë¦¬ì„± ì˜¨ì²œìˆ˜ê°€ ìœ ëª…í•©ë‹ˆë‹¤.' },
                    { name: 'ğŸŒ³ ëŒ€ì²­í˜¸', desc: 'ëŒ€ì „ ì‹œë¯¼ë“¤ì˜ íœ´ì‹ì²˜ë¡œ ì•„ë¦„ë‹¤ìš´ í˜¸ìˆ˜ì™€ ì£¼ë³€ ê²½ê´€ì´ ì¢‹ìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ¡ ì—‘ìŠ¤í¬ê³µì›', desc: '1993 ëŒ€ì „ì—‘ìŠ¤í¬ ê°œìµœì§€ë¡œ í•œë¹›íƒ‘ê³¼ ë‹¤ì–‘í•œ ì‹œì„¤ì´ ìˆìŠµë‹ˆë‹¤.' }
                ]
            },
            ulsan: {
                title: 'ğŸ­ ìš¸ì‚°ê´‘ì—­ì‹œ',
                description: 'ëŒ€í•œë¯¼êµ­ ìµœëŒ€ì˜ ê³µì—…ë„ì‹œë¡œ í˜„ëŒ€ì¤‘ê³µì—…ê³¼ SKì—ë„ˆì§€ê°€ ìˆëŠ” ì‚°ì—…ì˜ ì¤‘ì‹¬ì§€ì…ë‹ˆë‹¤. ë™í•´ì•ˆì˜ ì•„ë¦„ë‹¤ìš´ ìì—°ë„ í•¨ê»˜ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                attractions: [
                    { name: 'ğŸ–ï¸ ì¼ì‚°í•´ìˆ˜ìš•ì¥', desc: 'ìš¸ì‚°ì˜ ëŒ€í‘œì ì¸ í•´ìˆ˜ìš•ì¥ìœ¼ë¡œ ê¹¨ë—í•œ ë°”ë‹¤ì™€ ëª¨ë˜ì‚¬ì¥ì´ ìˆìŠµë‹ˆë‹¤.' },
                    { name: 'ğŸ¦‹ íƒœí™”ê°• êµ­ê°€ì •ì›', desc: 'ë„ì‹¬ ì† ìƒíƒœê³µì›ìœ¼ë¡œ ì—°ì–´ê°€ ëŒì•„ì˜¤ëŠ” ê¹¨ë—í•œ ê°•ì…ë‹ˆë‹¤.' },
                    { name: 'ğŸï¸ ê°„ì ˆê³¶', desc: 'í•œë°˜ë„ì—ì„œ ê°€ì¥ ë¨¼ì € ì¼ì¶œì„ ë³¼ ìˆ˜ ìˆëŠ” ê³³ìœ¼ë¡œ ìœ ëª…í•©ë‹ˆë‹¤.' },
                    { name: 'ğŸ‹ ì¥ìƒí¬ ê³ ë˜ë°•ë¬¼ê´€', desc: 'í•œêµ­ ìœ ì¼ì˜ ê³ ë˜ë°•ë¬¼ê´€ìœ¼ë¡œ ê³ ë˜ì˜ ì—­ì‚¬ì™€ ë¬¸í™”ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.' }
                ]
            }
        };

        // í•œêµ­ 17ê°œ ì‹œë„ í´ë¦¬ê³¤ ë°ì´í„° (ì‹¤ì œ í–‰ì •êµ¬ì—­ ê²½ê³„ ê¸°ë°˜)
        const regionPolygons = {
            seoul: [
                [37.4666439205858, 127.12448814562413],
                [37.46345207152503, 127.03453412881018],
                [37.443250788318885, 126.92200704606958],
                [37.43600855880374, 126.90248415408749],
                [37.45553719625955, 126.8876603495564],
                [37.49398740662242, 126.8669766488407],
                [37.481910137829594, 126.84701576597996],
                [37.47537164469701, 126.83839528045023],
                [37.48550426825966, 126.81932699742285],
                [37.522814433306856, 126.82519276074486],
                [37.59152345197316, 126.88561180509548],
                [37.625094022984605, 126.90743985641852],
                [37.6459348748236, 126.91104162625543],
                [37.65624105992546, 126.93966623205036],
                [37.636330826626114, 126.98421472500995],
                [37.69669983614291, 127.00966648935855],
                [37.65549186357224, 127.09235192147821],
                [37.572188303449664, 127.17773117758638],
                [37.569236981136434, 127.17906344497867],
                [37.545581845621655, 127.17390587134958],
                [37.53285825175579, 127.15375620206102],
                [37.50899702452757, 127.14008527652372],
                [37.4898938383289, 127.1579182626353],
                [37.478632972085876, 127.14724152025043],
                [37.47049710618933, 127.13242927205611],
                [37.4666439205858, 127.12448814562413]
            ],
            busan: [
                [35.097742993072465, 128.8217153474745],
                [35.14214929653768, 128.80715198734205],
                [35.15798870605143, 128.84293309138636],
                [35.166207991434355, 128.85413617720576],
                [35.159200406824745, 128.86560479950168],
                [35.15103552632151, 128.87401716645243],
                [35.15936703782111, 128.87931119821084],
                [35.171499727930495, 128.88059099356644],
                [35.18592763854361, 128.8784546717492],
                [35.21402874549333, 128.8853132469155],
                [35.21618308288308, 128.90895201989997],
                [35.22262692056897, 128.91171964373433],
                [35.22569449506154, 128.9596157715651],
                [35.29497908232251, 129.05894500090474],
                [35.33443428750269, 129.1257161023207],
                [35.35440855991351, 129.13330495410912],
                [35.36133691886838, 129.1275507372529],
                [35.36567887407824, 129.12114245387997],
                [35.36518272091261, 129.13848295938226],
                [35.36469735615101, 129.14512802183398],
                [35.36846243961606, 129.19800787878762],
                [35.38651337888533, 129.26557498580036],
                [35.38009963499199, 129.2679754602668],
                [35.35073144290537, 129.2849312544691],
                [35.34137003416752, 129.2796625939431],
                [35.24657537932709, 129.25308389841564],
                [35.06192826369905, 129.02228662787655],
                [35.097742993072465, 128.8217153474745]
            ],
            incheon: [
                [37.499632518412234, 126.62944249764311],
                [37.513650344486884, 126.60313065796478],
                [37.548579010391656, 126.59665587047718],
                [37.58548082824081, 126.63985902906148],
                [37.593011823985485, 126.59156455632241],
                [37.602682107868596, 126.62581676367968],
                [37.63798791865732, 126.6512526639701],
                [37.63384201577993, 126.67242225512966],
                [37.59184225525884, 126.72566531581052],
                [37.58159385885768, 126.79369544519706],
                [37.554242375748366, 126.7662043574505],
                [37.51591576136998, 126.76027622579264],
                [37.48694907503676, 126.74235365745886],
                [37.46207684428783, 126.77845499939897],
                [37.46203559089818, 126.7785287726508],
                [37.45164188169722, 126.77923966572729],
                [37.45102090644409, 126.77902288729182],
                [37.43094416277482, 126.77090454544626],
                [37.43073681082609, 126.77083792139524],
                [37.41757293948264, 126.7544652746883],
                [37.38250405568312, 126.72114288972793],
                [37.382728422176854, 126.69505736740857],
                [37.35053506629968, 126.66344966004381],
                [37.38718717658724, 126.60996708541704],
                [37.42993401634955, 126.61166364956264],
                [37.470751125354276, 126.59516762247304],
                [37.499632518412234, 126.62944249764311]
            ],
            daegu: [
                [36.00636035178296, 128.7213262450712],
                [35.99010720002594, 128.73206401923736],
                [35.94492522278742, 128.7437041617869],
                [35.88723788944046, 128.7613815432334],
                [35.85329074769074, 128.72497076697286],
                [35.83866793458516, 128.7242141017945],
                [35.834721736258885, 128.72199394103438],
                [35.83178805529844, 128.71412235160616],
                [35.82829975382099, 128.71035361434193],
                [35.82287907671741, 128.70866725043237],
                [35.73923002367715, 128.6891106166496],
                [35.639556969852805, 128.50623621037877],
                [35.65954413424245, 128.38266941694133],
                [35.74682288793781, 128.3936963726598],
                [35.81800575212713, 128.48295230525162],
                [35.82721759931332, 128.481969925052],
                [35.833608330168374, 128.47254620952359],
                [35.899013522731224, 128.46909837797443],
                [35.97253036133529, 128.5616645865135],
                [35.97804535550383, 128.5812427078083],
                [35.98007802177191, 128.59087467316112],
                [35.9868109907817, 128.60349379380537],
                [35.99311392448162, 128.60769318375165],
                [35.996116379107306, 128.61019018001957],
                [35.99698504796746, 128.61055192736796],
                [35.99837696954391, 128.6120432935831],
                [36.00673736606678, 128.61748582034008],
                [36.010549961362074, 128.64078254646668],
                [36.00636035178296, 128.7213262450712]
            ],
            gwangju: [
                [35.258570431400145, 126.76104901664232],
                [35.253043335777164, 126.76344014914422],
                [35.22361498287838, 126.78821187029571],
                [35.23633810969541, 126.84776928522056],
                [35.2358016742667, 126.8482145317627],
                [35.24767798721501, 126.87134448550367],
                [35.25820163147467, 126.91466128579398],
                [35.229750467803235, 126.94818070936816],
                [35.18428217716569, 126.96637535930356],
                [35.18025295804714, 127.01352393222386],
                [35.09498758195269, 126.98895069186668],
                [35.07794528948988, 126.891976503078],
                [35.06830917467154, 126.84576249794966],
                [35.05399323922972, 126.78092447870833],
                [35.05824441396908, 126.75673721539022],
                [35.10741097987782, 126.72838657284282],
                [35.10502808409706, 126.66814924973009],
                [35.12050978661622, 126.65172349583983],
                [35.1512942936463, 126.65219851928092],
                [35.19251802509505, 126.65320393105286],
                [35.21492088569891, 126.68788695577955],
                [35.214448050544185, 126.68868486056239],
                [35.214801670712454, 126.68878835887709],
                [35.214768075293144, 126.68902856442055],
                [35.2146793897672, 126.68920926698361],
                [35.214977876885655, 126.69043445279867],
                [35.23123200004791, 126.7238644210549],
                [35.251305541901225, 126.74203664978286],
                [35.258570431400145, 126.76104901664232]
            ],
            daejeon: [
                [36.48679951624792, 127.40150573442256],
                [36.45493887822377, 127.40583116302797],
                [36.45662159419439, 127.43213116720865],
                [36.45509361223148, 127.46155957004515],
                [36.477063983032316, 127.47987139318172],
                [36.475797777779924, 127.48423168252953],
                [36.454788546508105, 127.4960880025384],
                [36.454045572323665, 127.5035961999129],
                [36.42524291590289, 127.49376705635758],
                [36.420317939994945, 127.53743516505264],
                [36.41927919632655, 127.54228073457993],
                [36.40845961594542, 127.5470727467962],
                [36.399675947569705, 127.55816517314781],
                [36.39914654004481, 127.55919218532583],
                [36.39518678315378, 127.55508024348465],
                [36.38380225513675, 127.52480467423321],
                [36.34006990064799, 127.50134180998748],
                [36.19672289194393, 127.44871641082584],
                [36.2622709500042, 127.39025797769695],
                [36.21890129271374, 127.36419718015068],
                [36.22081536998303, 127.31564105913714],
                [36.26495018611541, 127.28650666227946],
                [36.2760505815688, 127.25877186484053],
                [36.3448265782094, 127.27912600112028],
                [36.421915039124464, 127.29426961581308],
                [36.422208976417835, 127.3263167270464],
                [36.499215976257155, 127.38008138312885],
                [36.499660645040414, 127.38096688868224],
                [36.500230690026456, 127.38385497104343],
                [36.498985556577466, 127.38626339999793],
                [36.491708392279, 127.39614094465608],
                [36.48679951624792, 127.40150573442256]
            ],
            ulsan: [
                [35.4649617499976, 129.34639641222327],
                [35.35642860542689, 129.3418692369663],
                [35.33016233846881, 129.30413958627858],
                [35.3380090467815, 129.29099127233468],
                [35.33922089129981, 129.285506723514],
                [35.34074607690686, 129.28076006478113],
                [35.341183450213094, 129.28006233898495],
                [35.36992924391258, 129.2775703394912],
                [35.37492228565513, 129.2737248548595],
                [35.3750486203512, 129.27367028883725],
                [35.37517513742709, 129.27353872344483],
                [35.375301776638324, 129.27334079966957],
                [35.38009963499199, 129.2679754602668],
                [35.38387127068365, 129.26612795982498],
                [35.3843219211977, 129.26610721073018],
                [35.38490809896068, 129.26597711902826],
                [35.38518790941956, 129.26584706042385],
                [35.38599911690706, 129.26580440591601],
                [35.38714429075133, 129.26552213183123],
                [35.38584160343394, 129.25082479622543],
                [35.40697148198228, 129.2188837828047],
                [35.431792540813404, 129.16804993410835],
                [35.455497542379725, 129.13282238343888],
                [35.52321416542541, 129.01087789233605],
                [35.58381993366389, 129.0188954322724],
                [35.62025845634497, 129.0027397894968],
                [35.682372231460334, 129.06987683104623],
                [35.72117420654348, 129.2054662229613],
                [35.6664117699837, 129.2547450479585],
                [35.64474149715338, 129.2962573065231],
                [35.651018328769396, 129.44962644856716],
                [35.58591012759749, 129.46365607575655],
                [35.493268506301256, 129.4084767938324],
                [35.4649617499976, 129.34639641222327]
            ],
            jeju: [
                [33.5641592794216, 126.76810769405087],
                [33.55627895764881, 126.80811250530077],
                [33.52469704921349, 126.86073654031928],
                [33.52643714304505, 126.89281325620627],
                [33.503334977089686, 126.91310370824057],
                [33.48095034803912, 126.90168871448753],
                [33.45302162962542, 126.92437630387386],
                [33.39164571578218, 126.90554917633473],
                [33.38231096757103, 126.88014972201171],
                [33.35472313256807, 126.86817869146073],
                [33.306514278037525, 126.82909341898826],
                [33.307005033700115, 126.77572999969814],
                [33.278851795358314, 126.74335319543825],
                [33.270175945090955, 126.65307277375895],
                [33.23621090573838, 126.59928143623368],
                [33.24371564909495, 126.58901738387941],
                [33.240820434842114, 126.51977134812242],
                [33.22657848742092, 126.47090148793191],
                [33.24602771368301, 126.4099359336251],
                [33.23173079763588, 126.37017572943468],
                [33.241410210952026, 126.32680296262788],
                [33.19605392476859, 126.2697908923715],
                [33.235896226081785, 126.23541484105488],
                [33.259388011660334, 126.18352078770103],
                [33.292265061029646, 126.16164603240452],
                [33.3369143591478, 126.16411862524699],
                [33.389208508446195, 126.23418093173848],
                [33.41728391732652, 126.26290374315803],
                [33.4358175090436, 126.26334752626512],
                [33.48898413837508, 126.38550757278685],
                [33.48576086437714, 126.40833057042097],
                [33.49777855202679, 126.4540006929407],
                [33.52054046470463, 126.49490785068467],
                [33.51555085312057, 126.51135964980969],
                [33.525532579400924, 126.58622640244599],
                [33.5603612390647, 126.73025492918568],
                [33.5641592794216, 126.76810769405087]
            ],
            sejong: [
                [36.71918904581354, 127.20793603234716],
                [36.69051337150437, 127.28125389722467],
                [36.686182800890414, 127.29601000174823],
                [36.67353875289289, 127.30556452598307],
                [36.65980079903912, 127.29541403878942],
                [36.64870082346342, 127.28367087545615],
                [36.64193460486294, 127.28183221680469],
                [36.64008410673377, 127.27599535796874],
                [36.633555610274726, 127.27932104825264],
                [36.634928296802194, 127.29220849637726],
                [36.6179441706347, 127.29960715850451],
                [36.6102314206329, 127.30145108811489],
                [36.60600731269453, 127.30287583178692],
                [36.59810728893466, 127.30580654938737],
                [36.589550102456734, 127.30288110514343],
                [36.58545427729559, 127.30161150568016],
                [36.582831194766015, 127.30877554665159],
                [36.583779683168714, 127.32143936934834],
                [36.579915938565144, 127.32503258811488],
                [36.5757729205331, 127.32790905889074],
                [36.5706065082213, 127.33576934132576],
                [36.565554012778996, 127.33642085438704],
                [36.56462472183839, 127.34324334759147],
                [36.495320806621656, 127.40982635082797],
                [36.49992444824916, 127.38230967353526],
                [36.44197527604719, 127.20138964906599],
                [36.732843948327705, 127.15964389368695],
                [36.71918904581354, 127.20793603234716]
            ],
            gyeonggi: [
                [38.24156894534964, 127.11054584094177],
                [38.12514266162087, 127.2801409493074],
                [37.96645831006209, 127.54737624478935],
                [37.7205938771277, 127.5070671693104],
                [37.586650862093556, 127.70754156075685],
                [37.36713188928649, 127.75954226452649],
                [37.13610800288655, 127.67021249421336],
                [37.04738061898354, 127.56689497607194],
                [36.964692612005635, 127.39702678490286],
                [36.96361966398055, 127.10168401655243],
                [36.90834109061955, 126.85748224621867],
                [37.262111151207, 126.6874404399449],
                [37.554242375748366, 126.7662043574505],
                [37.47517732083924, 126.81928352572616],
                [37.48954727435679, 126.86101647965847],
                [37.43620062634847, 126.9022056584959],
                [37.45550936015528, 127.01193901632813],
                [37.470329267874234, 127.13233119637184],
                [37.48989430463104, 127.15838209058433],
                [37.532662505061, 127.15380211103749],
                [37.5691236950674, 127.17913286048612],
                [37.65445365833233, 127.09286768996691],
                [37.636330826626114, 126.98421472500995],
                [37.64593839043465, 126.91103341863632],
                [37.591666584075185, 126.88571526656891],
                [37.7809414688451, 126.63207754731701],
                [38.13754874556678, 126.90460393336087],
                [38.24156894534964, 127.11054584094177]
            ],
            gangwon: [
                [38.301950820518755, 128.54880989370014],
                [37.065846086142365, 129.16663358375598],
                [37.08388451765994, 129.0707990748015],
                [37.04555259607306, 128.86970757374556],
                [37.07575679682841, 128.80800350318356],
                [37.06689640787321, 128.7674144559089],
                [37.04424200699947, 128.69683559413986],
                [37.08092488749102, 128.6126163196552],
                [37.08295061076972, 128.5990860812063],
                [37.08658977311861, 128.5538489512943],
                [37.11555166564275, 128.5065561850825],
                [37.10990963857785, 128.4660455215535],
                [37.11182297146357, 128.45001811191548],
                [37.10763021894919, 128.44391131633063],
                [37.10866058067932, 128.42236933136434],
                [37.15804635372467, 128.38447995064402],
                [37.15618701365589, 128.3642432809063],
                [37.14940847760239, 128.3260364566901],
                [37.183564048435976, 128.29945233414094],
                [37.19741623235329, 128.32650087537536],
                [37.21256008676082, 128.33101504829594],
                [37.22506947088503, 128.25395376914935],
                [37.23777918691112, 128.22192376716953],
                [37.59276717501084, 127.69837135764675],
                [38.11901944238137, 127.30755257070895],
                [38.37680862209443, 128.2674223748482],
                [38.301950820518755, 128.54880989370014]
            ],
            chungbuk: [
                [37.2453766796712, 128.2120658419042],
                [37.20842347641739, 128.2699374617589],
                [37.209704171437544, 128.32986945670933],
                [37.19757704884675, 128.3215033611607],
                [37.13527140612107, 128.30072782871449],
                [37.157177840304456, 128.347044265332],
                [37.15813150496589, 128.3837005371175],
                [37.10915011693627, 128.4223726247659],
                [37.10626583435209, 128.4448012632306],
                [37.11144357799125, 128.45580849378672],
                [37.12171579869844, 128.48953320303318],
                [37.09952691052254, 128.53193510974964],
                [37.07856600285103, 128.59329635578274],
                [37.080056862649386, 128.6106341244072],
                [36.7967751669718, 128.0934537206215],
                [36.111807480744794, 127.61307558211817],
                [36.56441327636665, 127.34348871364591],
                [36.58213375067179, 127.32272620113196],
                [36.60676631763875, 127.30202753908316],
                [36.6413551168914, 127.27835966321695],
                [36.689957120324, 127.28778966925744],
                [36.733736646737206, 127.32590652382305],
                [36.755983106297165, 127.35534328625646],
                [36.75074014412565, 127.39470495872118],
                [36.82884865074712, 127.35567274838394],
                [37.18380818310866, 127.71783109113159],
                [37.2453766796712, 128.2120658419042]
            ],
            chungnam: [
                [36.86640113458453, 126.23564062509978],
                [36.860898432295826, 126.32791104237994],
                [36.90160135376443, 126.90970519398604],
                [36.965762911884845, 127.10454715602945],
                [36.79909022160435, 127.40080776000384],
                [36.75468844262284, 127.41138263107432],
                [36.745057848309514, 127.40445904470441],
                [36.7513822470532, 127.39434483746348],
                [36.75959928816687, 127.38525976430454],
                [36.76096152312665, 127.36549300822298],
                [36.760971206996885, 127.35783110121614],
                [36.75356201077784, 127.34337621882464],
                [36.73524247074315, 127.34316990690118],
                [36.734470166174624, 127.32921036637458],
                [36.72861840431166, 127.32088026995834],
                [36.72462380507206, 127.31744602187891],
                [36.69427822364798, 127.288738575142],
                [36.719119287386114, 127.20789089293503],
                [36.499206669441534, 127.17346586866955],
                [36.212892945867274, 127.40799929928723],
                [36.009332495848824, 127.43724344610126],
                [36.093914250955784, 127.06045334788973],
                [36.08154379342677, 126.63253686687762],
                [36.546321848156516, 126.46421805998273],
                [36.676991773682154, 126.19258828720272],
                [36.84077447960923, 126.16122307201523],
                [36.86640113458453, 126.23564062509978]
            ],
            jeonbuk: [
                [36.13207402130215, 126.88282411119397],
                [35.9064905882214, 127.85954023332997],
                [35.66652219497405, 127.63254262420274],
                [35.602881437458244, 127.61229454762552],
                [35.49789988422553, 127.65038819777656],
                [35.3327354669605, 127.17083551449639],
                [35.30909820792542, 127.1373767235316],
                [35.30441777372614, 127.09167394906493],
                [35.31715657660681, 127.06152426915612],
                [35.32439192485951, 127.04530817993552],
                [35.341063273286686, 127.05525206456464],
                [35.367362799213595, 127.06768477387317],
                [35.39955316871038, 127.0301482690323],
                [35.439578252842665, 127.03738695697355],
                [35.44316707552896, 126.99486536049696],
                [35.39662333787836, 126.95433524094311],
                [35.40567980881713, 126.92922676185937],
                [35.41584470008619, 126.91614824943737],
                [35.422100297518035, 126.90243678811161],
                [35.43654909657813, 126.89959548835455],
                [35.46845866773163, 126.77406919988032],
                [35.31813193058833, 126.58330935870652],
                [35.32380638215208, 126.52134342427647],
                [35.400564484910724, 126.49134556231358],
                [35.42371576893322, 126.47957000590301],
                [36.0119448809583, 126.74156052854424],
                [36.13207402130215, 126.88282411119397]
            ],
            jeonnam: [
                [34.79243947971336, 126.44465729887744],
                [34.93645031659151, 126.36930821599978],
                [35.06592208604775, 126.30562796014894],
                [35.110714786818335, 126.24770618056681],
                [35.04941757308445, 126.40165644745123],
                [35.270716043166104, 126.3248537975889],
                [35.325039092184156, 126.52075210093388],
                [35.450989778185274, 126.88400119243174],
                [35.31260080037142, 127.07221620029611],
                [35.31828588909181, 127.56815175001621],
                [34.925977223975686, 127.59834981552271],
                [34.7406382313067, 127.68181057646225],
                [34.681724381846585, 127.55043130373865],
                [34.857290999350646, 127.48990420507205],
                [34.68278705976902, 127.44868048697741],
                [34.567926780488826, 127.40694195507001],
                [34.445529537007744, 127.33893747328426],
                [34.595575497313895, 127.17155885579734],
                [34.74415745640048, 127.30168114022015],
                [34.57266095509692, 126.97984258504624],
                [34.46670924328152, 126.78959257665662],
                [34.401671577263286, 126.62799358870008],
                [34.396754726190196, 126.48862771921256],
                [34.56055770072552, 126.37522480776735],
                [34.69499310427016, 126.3401853754551],
                [34.73833764649938, 126.36621273259185],
                [34.79243947971336, 126.44465729887744]
            ],
            gyeongbuk: [
                [36.051757803182724, 129.57892484909377],
                [35.621636067237816, 128.87387627861364],
                [35.82287907671741, 128.70866725043237],
                [35.834721736258885, 128.72199394103438],
                [35.88723788944046, 128.7613815432334],
                [36.00636035178296, 128.7213262450712],
                [35.997955764150866, 128.6118236547161],
                [35.99255381861844, 128.60704146144633],
                [35.97843202265338, 128.57856128906258],
                [35.83344939550027, 128.47278363274324],
                [35.73973535132349, 128.4086866758349],
                [35.82893401788106, 128.01178052397384],
                [36.273749669087096, 127.8826355451056],
                [36.707755432024236, 128.04969493578923],
                [37.06485125282934, 128.65185642082642],
                [37.04038306342082, 128.7320039199267],
                [37.06667175956804, 128.75585349757026],
                [37.07448536903096, 128.7700310474564],
                [37.08754203023271, 128.79187859495627],
                [37.06740405953454, 128.83166598873817],
                [37.04803294686014, 128.86462754867173],
                [37.045251055052205, 128.89479361709897],
                [37.080978777221056, 129.06715037820123],
                [37.0833468832353, 129.13071818410089],
                [37.05663605563445, 129.177082289142],
                [36.63757118192944, 129.41684294130974],
                [36.051757803182724, 129.57892484909377]
            ],
            gyeongnam: [
                [35.2210461459464, 128.63232638164914],
                [34.9175552524979, 128.42948979501986],
                [34.95572606455542, 128.03080973177853],
                [35.19974210224065, 127.61802616782602],
                [35.55987220077352, 127.58801786698824],
                [35.58926917754791, 127.6097504201027],
                [35.607247441889015, 127.6125886148827],
                [35.61776652881464, 127.6346528484473],
                [35.66645091860926, 127.63235775544645],
                [35.706379565402635, 127.6554460779875],
                [35.78460954984325, 127.69485538285537],
                [35.65547619211512, 128.30598968155272],
                [35.59718199537517, 128.85407515875346],
                [35.38307857878882, 129.19444476205146],
                [35.36446297301507, 129.14506166394102],
                [35.36567887407824, 129.12114245387997],
                [35.35614609361373, 129.13331729528633],
                [35.31331300734739, 129.11204819920943],
                [35.22525814024004, 128.9527547424582],
                [35.2170139701118, 128.90810497423345],
                [35.19316819263701, 128.87595938831475],
                [35.1687662985467, 128.87709433579258],
                [35.15103264424935, 128.87398521251404],
                [35.16693734102218, 128.85763374998777],
                [35.15596541168969, 128.82534164321078],
                [35.08621402273716, 128.82643223135477],
                [35.2210461459464, 128.63232638164914]
            ]
        };

        let regionOverlays = [];

        // ì§€ë„ ì´ˆê¸°í™”
        function initMap() {
            try {
                if (typeof kakao === 'undefined' || !kakao.maps) {
                    console.error('Kakao Maps APIê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                    document.getElementById('map').innerHTML = 
                        '<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(255,255,255,0.1); border-radius: 15px; color: #fff; font-size: 18px;">' +
                        '<div><i class="fas fa-map-marked-alt" style="font-size: 3rem; margin-bottom: 1rem; display: block; text-align: center;"></i>' +
                        'ì¹´ì¹´ì˜¤ ë§µ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.<br><small>ê°œë°œìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.</small></div></div>';
                    return;
                }

                const container = document.getElementById('map');
                const options = {
                    center: new kakao.maps.LatLng(36.5, 127.5), // ëŒ€í•œë¯¼êµ­ ì¤‘ì‹¬
                    level: 11 // ì „ì²´ í•œêµ­ì´ ë³´ì´ë„ë¡ ë ˆë²¨ ì¡°ì •
                };

                map = new kakao.maps.Map(container, options);

                // ì§€ì—­ë³„ í´ë¦¬ê³¤ ìƒì„±
                createRegionPolygons();
                
            } catch (error) {
                console.error('ì§€ë„ ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜:', error);
                document.getElementById('map').innerHTML = 
                    '<div style="display: flex; align-items: center; justify-content: center; height: 100%; background: rgba(255,255,255,0.1); border-radius: 15px; color: #fff; font-size: 18px;">' +
                    '<div><i class="fas fa-exclamation-triangle" style="font-size: 3rem; margin-bottom: 1rem; display: block; text-align: center;"></i>' +
                    'ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</div></div>';
            }
        }

        // ì§€ì—­ë³„ í´ë¦¬ê³¤ ìƒì„±
        function createRegionPolygons() {
            // map.jpg ìƒ‰ìƒ ê¸°ë°˜ 17ê°œ ì‹œë„ë³„ ìƒ‰ìƒ ì„¤ì • (ì´ë¯¸ì§€ì™€ ë™ì¼í•˜ê²Œ)
            const colors = {
                seoul: '#FFFFFF',      // í°ìƒ‰ (ì„œìš¸íŠ¹ë³„ì‹œ)
                busan: '#5B9BD5',      // íŒŒë€ìƒ‰ (ë¶€ì‚°ê´‘ì—­ì‹œ)  
                incheon: '#70AD47',    // ì—°í•œ ì²­ë¡ìƒ‰ (ì¸ì²œê´‘ì—­ì‹œ)
                daegu: '#FFC000',      // ë…¸ë€ìƒ‰ (ëŒ€êµ¬ê´‘ì—­ì‹œ)
                gwangju: '#FF9999',    // ì—°í•œ ë¹¨ê°„ìƒ‰ (ê´‘ì£¼ê´‘ì—­ì‹œ)
                daejeon: '#FFD966',    // ì—°í•œ ë…¸ë€ìƒ‰ (ëŒ€ì „ê´‘ì—­ì‹œ)
                ulsan: '#70CCFF',      // í•˜ëŠ˜ìƒ‰ (ìš¸ì‚°ê´‘ì—­ì‹œ)
                sejong: '#FFFFFF',     // í°ìƒ‰ (ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ)
                gyeonggi: '#FFF200',   // ë°ì€ ë…¸ë€ìƒ‰ (ê²½ê¸°ë„)
                gangwon: '#92D050',    // ë°ì€ ë…¹ìƒ‰ (ê°•ì›íŠ¹ë³„ìì¹˜ë„)
                chungbuk: '#70C4FF',   // ë°ì€ í•˜ëŠ˜ìƒ‰ (ì¶©ì²­ë¶ë„)
                chungnam: '#70AD47',   // ì—°í•œ ë…¹ìƒ‰ (ì¶©ì²­ë‚¨ë„)
                jeonbuk: '#FFB000',    // ì£¼í™©ìƒ‰ (ì „ë¶íŠ¹ë³„ìì¹˜ë„)
                jeonnam: '#FF9966',    // ì—°í•œ ì£¼í™©ìƒ‰ (ì „ë¼ë‚¨ë„)
                gyeongbuk: '#8FAADC',  // ì—°í•œ íŒŒë€ìƒ‰ (ê²½ìƒë¶ë„)
                gyeongnam: '#FF99CC',  // ì—°í•œ ë¶„í™ìƒ‰ (ê²½ìƒë‚¨ë„)
                jeju: '#CC99FF',       // ì—°í•œ ë³´ë¼ìƒ‰ (ì œì£¼íŠ¹ë³„ìì¹˜ë„)
                // í˜¸í™˜ì„±ì„ ìœ„í•œ ê¸°ì¡´ í‚¤
                gyeongju: '#8FAADC',   // ê²½ìƒë¶ë„ì™€ ë™ì¼
                jeonju: '#FFB000'      // ì „ë¶íŠ¹ë³„ìì¹˜ë„ì™€ ë™ì¼
            };

            Object.keys(regionPolygons).forEach(regionKey => {
                const polygonPath = regionPolygons[regionKey].map(coord => 
                    new kakao.maps.LatLng(coord[0], coord[1])
                );

                const polygon = new kakao.maps.Polygon({
                    path: polygonPath,
                    strokeWeight: 3,
                    strokeColor: colors[regionKey],
                    strokeOpacity: 0.8,
                    fillColor: colors[regionKey],
                    fillOpacity: 0.3
                });

                polygon.setMap(map);
                regionOverlays.push({region: regionKey, polygon: polygon});

                // í´ë¦¬ê³¤ í´ë¦­ ì´ë²¤íŠ¸
                kakao.maps.event.addListener(polygon, 'click', function() {
                    const regionButton = document.querySelector(`[onclick*="${regionKey}"]`);
                    if (regionButton) {
                        const coords = getRegionCoords(regionKey);
                        selectRegion(regionKey, coords.lat, coords.lng, regionButton);
                    }
                });

                // í´ë¦¬ê³¤ í˜¸ë²„ ì´ë²¤íŠ¸
                kakao.maps.event.addListener(polygon, 'mouseover', function() {
                    polygon.setOptions({
                        fillOpacity: 0.6,
                        strokeWeight: 4
                    });
                });

                kakao.maps.event.addListener(polygon, 'mouseout', function() {
                    polygon.setOptions({
                        fillOpacity: 0.3,
                        strokeWeight: 3
                    });
                });

                // ì§€ì—­ ì´ë¦„ ë¼ë²¨ ì¶”ê°€
                addRegionLabel(regionKey, polygonPath);
            });
        }

        // ì§€ì—­ ì¢Œí‘œ ê°€ì ¸ì˜¤ê¸°
        function getRegionCoords(region) {
            const coords = {
                seoul: {lat: 37.5665, lng: 126.9780},
                busan: {lat: 35.1796, lng: 129.0756},
                incheon: {lat: 37.4563, lng: 126.7052},
                daegu: {lat: 35.8714, lng: 128.6014},
                gwangju: {lat: 35.1595, lng: 126.8526},
                daejeon: {lat: 36.3504, lng: 127.3845},
                ulsan: {lat: 35.5384, lng: 129.3114},
                sejong: {lat: 36.4800, lng: 127.2890},
                gyeonggi: {lat: 37.4138, lng: 127.5183},
                gangwon: {lat: 37.8228, lng: 128.1555},
                chungbuk: {lat: 36.8000, lng: 127.7000},
                chungnam: {lat: 36.5184, lng: 126.8000},
                jeonbuk: {lat: 35.7175, lng: 127.1530},
                jeonnam: {lat: 34.8679, lng: 126.9910},
                gyeongbuk: {lat: 36.4919, lng: 128.8880},
                gyeongnam: {lat: 35.4606, lng: 128.2132},
                jeju: {lat: 33.4996, lng: 126.5312},
                gyeongju: {lat: 35.8422, lng: 129.2139},
                jeonju: {lat: 35.8242, lng: 127.1480}
            };
            return coords[region];
        }

        // ì§€ì—­ ì´ë¦„ ë¼ë²¨ ì¶”ê°€
        function addRegionLabel(regionKey, polygonPath) {
            const regionNames = {
                seoul: 'ì„œìš¸íŠ¹ë³„ì‹œ',
                busan: 'ë¶€ì‚°ê´‘ì—­ì‹œ',
                incheon: 'ì¸ì²œê´‘ì—­ì‹œ',
                daegu: 'ëŒ€êµ¬ê´‘ì—­ì‹œ',
                gwangju: 'ê´‘ì£¼ê´‘ì—­ì‹œ',
                daejeon: 'ëŒ€ì „ê´‘ì—­ì‹œ',
                ulsan: 'ìš¸ì‚°ê´‘ì—­ì‹œ',
                sejong: 'ì„¸ì¢…ì‹œ',
                gyeonggi: 'ê²½ê¸°ë„',
                gangwon: 'ê°•ì›ë„',
                chungbuk: 'ì¶©ì²­ë¶ë„',
                chungnam: 'ì¶©ì²­ë‚¨ë„',
                jeonbuk: 'ì „ë¼ë¶ë„',
                jeonnam: 'ì „ë¼ë‚¨ë„',
                gyeongbuk: 'ê²½ìƒë¶ë„',
                gyeongnam: 'ê²½ìƒë‚¨ë„',
                jeju: 'ì œì£¼ë„'
            };

            // í•´ë‹¹ ì§€ì—­ì— ë¼ë²¨ì´ ì •ì˜ë˜ì–´ ìˆëŠ” ê²½ìš°ì—ë§Œ í‘œì‹œ
            if (regionNames[regionKey]) {
                // í´ë¦¬ê³¤ ì¤‘ì‹¬ì  ê³„ì‚°
                let lat = 0, lng = 0;
                polygonPath.forEach(point => {
                    lat += point.getLat();
                    lng += point.getLng();
                });
                lat /= polygonPath.length;
                lng /= polygonPath.length;

                const customOverlay = new kakao.maps.CustomOverlay({
                    position: new kakao.maps.LatLng(lat, lng),
                    content: `
                        <div style="
                            background: rgba(255,255,255,0.9);
                            padding: 8px 16px;
                            border-radius: 20px;
                            font-weight: 600;
                            color: #333;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                            border: 2px solid rgba(102, 126, 234, 0.3);
                            font-size: 14px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                        ">${regionNames[regionKey]}</div>
                    `,
                    yAnchor: 0.5
                });

                customOverlay.setMap(map);
            }
        }

        // ì§€ì—­ ì„ íƒ
        function selectRegion(region, lat, lng, button) {
            // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.region-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // ì„ íƒëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
            button.classList.add('active');

            // ì§€ë„ê°€ ìˆì„ ê²½ìš°ì—ë§Œ ì§€ë„ ì¡°ì‘
            if (map && typeof kakao !== 'undefined' && kakao.maps) {
                // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
                currentMarkers.forEach(marker => marker.setMap(null));
                currentMarkers = [];

                // ì§€ë„ ì¤‘ì‹¬ ì´ë™ (ì„ íƒëœ ì§€ì—­ìœ¼ë¡œ ì¤Œì¸)
                const moveLatLon = new kakao.maps.LatLng(lat, lng);
                map.setCenter(moveLatLon);
                map.setLevel(8); // ì§€ì—­ ìƒì„¸ ë³´ê¸°

                // ìƒˆ ë§ˆì»¤ ì¶”ê°€
                const marker = new kakao.maps.Marker({
                    position: moveLatLon
                });
                
                marker.setMap(map);
                currentMarkers.push(marker);

                // ì„ íƒëœ ì§€ì—­ í´ë¦¬ê³¤ í•˜ì´ë¼ì´íŠ¸
                highlightSelectedRegion(region);
            }

            // ì§€ì—­ ì •ë³´ ì—…ë°ì´íŠ¸
            updateRegionInfo(region);

            // ì•Œë¦¼ í‘œì‹œ
            showNotification(regionData[region].title + ' ì§€ì—­ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤!', 'success');
        }

        // ì„ íƒëœ ì§€ì—­ í´ë¦¬ê³¤ í•˜ì´ë¼ì´íŠ¸
        function highlightSelectedRegion(selectedRegion) {
            regionOverlays.forEach(overlay => {
                if (overlay.region === selectedRegion) {
                    // ì„ íƒëœ ì§€ì—­ ê°•ì¡°
                    overlay.polygon.setOptions({
                        fillOpacity: 0.7,
                        strokeWeight: 5,
                        strokeColor: '#ff6b6b'
                    });
                } else {
                    // ë‹¤ë¥¸ ì§€ì—­ì€ íë¦¬ê²Œ
                    overlay.polygon.setOptions({
                        fillOpacity: 0.1,
                        strokeWeight: 2,
                        strokeOpacity: 0.5
                    });
                }
            });
        }

        // ì „ì²´ ì§€ë„ë¡œ ëŒì•„ê°€ê¸°
        function resetMapView() {
            if (map && typeof kakao !== 'undefined' && kakao.maps) {
                // ì „ì²´ í•œêµ­ ì§€ë„ë¡œ ë³µì›
                map.setCenter(new kakao.maps.LatLng(36.5, 127.5));
                map.setLevel(11);

                // ëª¨ë“  í´ë¦¬ê³¤ ì›ë˜ ìƒíƒœë¡œ ë³µì›
                regionOverlays.forEach(overlay => {
                    const colors = {
                        seoul: '#FFFFFF', busan: '#5B9BD5', incheon: '#70AD47',
                        daegu: '#FFC000', gwangju: '#FF9999', daejeon: '#FFD966',
                        ulsan: '#70CCFF', sejong: '#FFFFFF', gyeonggi: '#FFF200',
                        gangwon: '#92D050', chungbuk: '#70C4FF', chungnam: '#70AD47',
                        jeonbuk: '#FFB000', jeonnam: '#FF9966', gyeongbuk: '#8FAADC',
                        gyeongnam: '#FF99CC', jeju: '#CC99FF', gyeongju: '#8FAADC', jeonju: '#FFB000'
                    };
                    
                    overlay.polygon.setOptions({
                        fillOpacity: 0.3,
                        strokeWeight: 3,
                        strokeColor: colors[overlay.region],
                        strokeOpacity: 0.8
                    });
                });

                // ë§ˆì»¤ ì œê±°
                currentMarkers.forEach(marker => marker.setMap(null));
                currentMarkers = [];
            }

            // ëª¨ë“  ë²„íŠ¼ í™œì„±í™” í•´ì œ
            document.querySelectorAll('.region-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // ì´ˆê¸° ì •ë³´ë¡œ ë³µì›
            document.getElementById('region-title').textContent = 'ğŸŒ ëŒ€í•œë¯¼êµ­ ì£¼ìš” ë„ì‹œ';
            document.getElementById('region-description').textContent = 
                'í•œêµ­ì˜ ì•„ë¦„ë‹¤ìš´ 8ê°œ ì£¼ìš” ë„ì‹œë¥¼ íƒí—˜í•´ë³´ì„¸ìš”. ì§€ë„ì—ì„œ ìƒ‰ê¹”ë¡œ êµ¬ë¶„ëœ ì§€ì—­ì„ í´ë¦­í•˜ê±°ë‚˜, ìœ„ì˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ê° ë„ì‹œì˜ ìƒì„¸ ì •ë³´ì™€ ê´€ê´‘ ëª…ì†Œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
            
            const attractionsList = document.getElementById('attractions-list');
            attractionsList.innerHTML = 
                '<div class="attraction-card" onclick="selectCityFromLegend(\'seoul\')" style="cursor: pointer;"><h4>ğŸ›ï¸ ì„œìš¸íŠ¹ë³„ì‹œ</h4><p>ëŒ€í•œë¯¼êµ­ì˜ ìˆ˜ë„, ì „í†µê³¼ í˜„ëŒ€ê°€ ê³µì¡´í•˜ëŠ” ì—­ë™ì ì¸ ë„ì‹œ</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'busan\')" style="cursor: pointer;"><h4>ğŸŒŠ ë¶€ì‚°ê´‘ì—­ì‹œ</h4><p>í•œêµ­ ì œ2ì˜ ë„ì‹œ, ì•„ë¦„ë‹¤ìš´ í•´ë³€ê³¼ ì‹ ì„ í•œ í•´ì‚°ë¬¼ì˜ ë„ì‹œ</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'incheon\')" style="cursor: pointer;"><h4>âœˆï¸ ì¸ì²œê´‘ì—­ì‹œ</h4><p>í•œêµ­ì˜ ê´€ë¬¸ ë„ì‹œ, êµ­ì œê³µí•­ê³¼ ì†¡ë„ì‹ ë„ì‹œë¡œ ìœ ëª…</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'daegu\')" style="cursor: pointer;"><h4>ğŸŒ‡ ëŒ€êµ¬ê´‘ì—­ì‹œ</h4><p>ë‚´ë¥™ ì¤‘ì‹¬ë„ì‹œ, ì•½ë ¹ì‹œì™€ ì„¬ìœ ì‚°ì—…ìœ¼ë¡œ ìœ ëª…í•œ ë„ì‹œ</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'gwangju\')" style="cursor: pointer;"><h4>ğŸ¨ ê´‘ì£¼ê´‘ì—­ì‹œ</h4><p>ì˜ˆìˆ ê³¼ ë¬¸í™”ì˜ ë„ì‹œ, ë¯¼ì£¼í™” ìš´ë™ì˜ ì„±ì§€</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'daejeon\')" style="cursor: pointer;"><h4>ğŸ›ï¸ ëŒ€ì „ê´‘ì—­ì‹œ</h4><p>ê³¼í•™ ê¸°ìˆ  ì¤‘ì‹¬ë„ì‹œ, ëŒ€ë•ì—°êµ¬ê°œë°œíŠ¹êµ¬ì˜ ë„ì‹œ</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'ulsan\')" style="cursor: pointer;"><h4>ğŸ­ ìš¸ì‚°ê´‘ì—­ì‹œ</h4><p>ì‚°ì—… ì¤‘ì‹¬ë„ì‹œ, í˜„ëŒ€ì¤‘ê³µì—…ê³¼ ì•„ë¦„ë‹¤ìš´ ë™í•´ì•ˆ</p></div>' +
                '<div class="attraction-card" onclick="selectCityFromLegend(\'jeju\')" style="cursor: pointer;"><h4>ğŸï¸ ì œì£¼íŠ¹ë³„ìì¹˜ë„</h4><p>í•œêµ­ì˜ ëŒ€í‘œ ê´€ê´‘ì§€, ì•„ë¦„ë‹¤ìš´ ìì—°ê²½ê´€ê³¼ ë…íŠ¹í•œ ë¬¸í™”</p></div>';

            // ì•Œë¦¼ í‘œì‹œ
            showNotification('ì „ì²´ ì§€ë„ë¡œ ëŒì•„ê°”ìŠµë‹ˆë‹¤!', 'success');
        }

        // ì§€ì—­ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateRegionInfo(region) {
            const data = regionData[region];
            
            document.getElementById('region-title').textContent = data.title;
            document.getElementById('region-description').textContent = data.description;
            
            const attractionsList = document.getElementById('attractions-list');
            attractionsList.innerHTML = '';
            
            data.attractions.forEach(attraction => {
                const card = document.createElement('div');
                card.className = 'attraction-card';
                card.innerHTML = 
                    '<h4>' + attraction.name + '</h4>' +
                    '<p>' + attraction.desc + '</p>';
                attractionsList.appendChild(card);
            });
        }

        // ì•Œë¦¼ í‘œì‹œ
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 150px;
                right: 20px;
                padding: 1rem 2rem;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                background: ' + (type === 'success' ? 'linear-gradient(135deg, #43e97b, #38f9d7)' : 
                           type === 'error' ? 'linear-gradient(135deg, #ff6b6b, #ee5a24)' : 
                           'linear-gradient(135deg, #feca57, #ff9ff3)') + ';
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // ë²”ë¡€ì—ì„œ ë„ì‹œ ì„ íƒ
        function selectCityFromLegend(cityKey) {
            const coords = getRegionCoords(cityKey);
            if (coords) {
                // í•´ë‹¹ ë„ì‹œ ë²„íŠ¼ ì°¾ê¸°
                const cityButton = document.querySelector(`[onclick*="${cityKey}"]`);
                if (cityButton) {
                    selectRegion(cityKey, coords.lat, coords.lng, cityButton);
                }
            }
        }

        // ì§€ë„ ì´ˆê¸°í™”
        window.onload = function() {
            initMap();
        };
    </script>

    <style>
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
    <%@ include file="../common/footer.jsp" %>
</body>
</html>